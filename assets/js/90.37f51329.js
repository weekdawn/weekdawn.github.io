(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{696:function(s,a,e){"use strict";e.r(a);var n=e(7),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"基本命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本命令"}},[s._v("#")]),s._v(" 基本命令")]),s._v(" "),e("h3",{attrs:{id:"_1-echo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-echo"}},[s._v("#")]),s._v(" 1.echo")]),s._v(" "),e("p",[s._v("表示"),e("strong",[s._v("显示")]),s._v("此命令后的"),e("strong",[s._v("字符")]),s._v("。")]),s._v(" "),e("p",[s._v("set a = 234")]),s._v(" "),e("p",[s._v("设置变量")]),s._v(" "),e("h3",{attrs:{id:"_2-echo-off"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-echo-off"}},[s._v("#")]),s._v(" 2.echo off")]),s._v(" "),e("p",[s._v("表示此语句后所有运行的命令都不显示命令行本身")]),s._v(" "),e("p",[s._v("也就是不显示命令本身“echo HelloWorld”，只显示命令执行结果“HelloWorld”。")]),s._v(" "),e("h3",{attrs:{id:"_3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3"}},[s._v("#")]),s._v(" 3.@")]),s._v(" "),e("p",[s._v("让执行窗口中不显示它后面这一行的命令本身。")]),s._v(" "),e("p",[s._v("和“echo off”类似，区别：“echo off”命令的作用域是"),e("strong",[s._v("整个脚本文件")]),s._v("，而@命令只是"),e("strong",[s._v("紧接")]),s._v("着它后面的那个命令。")]),s._v(" "),e("p",[s._v("一般的脚本文件都是一个“"),e("strong",[s._v("@echo off")]),s._v("”命令开始的，这句命令表示不显示后面所有命令的执行过程，且“echo off”这句命令本身也不显示。")]),s._v(" "),e("h3",{attrs:{id:"_4-rem与"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-rem与"}},[s._v("#")]),s._v(" 4.rem与::")]),s._v(" "),e("p",[s._v("注释")]),s._v(" "),e("p",[s._v("@rem")]),s._v(" "),e("h3",{attrs:{id:"_5-pause"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-pause"}},[s._v("#")]),s._v(" 5.pause")]),s._v(" "),e("p",[s._v("停止脚本文件命令")]),s._v(" "),e("h3",{attrs:{id:"choice"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#choice"}},[s._v("#")]),s._v(" choice")]),s._v(" "),e("p",[s._v("choice 使用此命令可以让用户输入一个字符(用于选择)，从而根据用户的选择返回不同的 errorlevel，然后配合 if errorlevel 选择运行不同的命令。")]),s._v(" "),e("p",[s._v("注意：choice命令为DOS或者Windows系统提供的外部命令，不同版本的choice命令语法会稍有不同，请用choice /?查看用法。")]),s._v(" "),e("p",[s._v("choice 使用此命令可以让用户输入一个字符，从而运行不同的命令。")]),s._v(" "),e("p",[s._v("使用时应该加/c:参数，/c后应写提示可输入的字符，之间无空格。它的返回码为1234……(从左到右)")]),s._v(" "),e("p",[s._v("/m可以添加说明文字")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("Sample: choice /c dme /m defrag,mem,end\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("将显示: defrag,mem,end[D,M,E]?")]),s._v(" "),e("p",[s._v("Sample:")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" choice /c dme /m defrag,mem,end\n\n if errorlevel 3 goto defrag (应先判断数值最高的错误码)\n\n if errorlevel 2 goto mem\n\n if errotlevel 1 goto end\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h3",{attrs:{id:"start"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#start"}},[s._v("#")]),s._v(" start")]),s._v(" "),e("p",[s._v("调用外部程序，所有的 DOS命令 和 命令行程序 都可以由 start命令 来调用。")]),s._v(" "),e("h3",{attrs:{id:"入侵常用参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#入侵常用参数"}},[s._v("#")]),s._v(" 入侵常用参数：")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(' MIN 开始时窗口最小化\n\n SEPARATE 在分开的空间内开始 16 位 Windows 程序\n\n HIGH 在 HIGH 优先级类别开始应用程序\n\n REALTIME 在 REALTIME 优先级类别开始应用程序\n\n WAIT 启动应用程序并等候它结束\n\n parameters 这些为传送到命令/程序的参数\n\n Sample：start /MIN test2.bat arg1 arg2 (调用同目录下的 test2.bat，且输入2个参数给他，且本窗口最小化)\n\n Sample：e:\\"program files"\\极品列车时刻表\\jpskb.exe (文件路径名有空格时)\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("h3",{attrs:{id:"_6-go-to"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-go-to"}},[s._v("#")]),s._v(" 6.go to")]),s._v(" "),e("p",[s._v("跳转到相应的标号处执行")]),s._v(" "),e("h3",{attrs:{id:"_7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7"}},[s._v("#")]),s._v(" 7.%")]),s._v(" "),e("p",[s._v("%表示变量的引用")]),s._v(" "),e("p",[s._v("1.非for语句引用变量")]),s._v(" "),e("p",[s._v("例如下面的代码，执行下面的代码，首先将变量a设为123，之后引用变量a，程序将显示“123”，若不加“%%”，程序将认为a是一个字符串，显示字符串“a”。")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" @echo off\n\n set a=123\n\n echo %a%\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("2.for语句引用变量")]),s._v(" "),e("p",[s._v("for语句引用变量稍有不同，要加上"),e("strong",[s._v("两个“%%”")]),s._v("。因为要与另外形式的外部变量%1 -%9区分开。")]),s._v(" "),e("p",[s._v("例如下面的语句，执行后将在命令行中打印“1 2 3 4 5”这几个数。")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" for %%i in (1 2 3 4 5 ) do  echo %%i\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_8-if"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-if"}},[s._v("#")]),s._v(" 8.if")]),s._v(" "),e("p",[s._v("if 表示将判断是否符合规定的条件，从而决定执行不同的命令。有三种格式:")]),s._v(" "),e("p",[s._v("1.if")]),s._v(" "),e("p",[s._v('语法: if [not] "参数" == "字符串" 待执行的命令。参数如果等于(not表示不等)指定的字符串，则条件成立，运行命令，否则运行下一句。')]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(' Sample:if "%1" == "a"//表示第一个参数是等于字符串“a”\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("2.if exist")]),s._v(" "),e("p",[s._v("if [not] exist [路径]文件名。如果有指定的文件，则条件成立，运行命令，否则运行下一句。")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" Sample: if exist config.sys edit config.sys 表示如果存在这文件，则编辑它\n\n Sample:if exist config.sys type config.sys 表示如果存在这文件，则显示它的内容\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("3.if errorlevel number")]),s._v(" "),e("p",[s._v("if [not]errorlevel <数字待执行的命令。如果程序返回值等于指定的数字，则条件成立，运行命令，否则运行下一句。(返回值必须按照从大到小的顺序排列)")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" @echooff      \n\n XCOPYF:\\test.bat D:\\      \n\n IF ERRORLEVEL 1  (ECHO 文件拷贝失败)\n\n Else IF ERRORLEVEL 0 ECHO (成功拷贝文件)      \n\n pause\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[s._v("很多DOS程序在运行结束后会返回一个数字值用来表示程序运行的结果(或者状态)，称为错误码errorlevel或称返回码。常见的返回码为0、1。通过if errorlevel命令可以判断程序的返回值，根据不同的返回值来决定执行不同的命令。")]),s._v(" "),e("h3",{attrs:{id:"_9-copy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_9-copy"}},[s._v("#")]),s._v(" 9.copy")]),s._v(" "),e("p",[s._v("DOS下最常用的拷贝命令。")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("COPY [/D][/V] [/N] [/Y | /-Y] [/Z] [/A | /B ] source [/A | /B]\n[+ source[/A | /B] [+ ...]] [destination [/A | /B]]\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("命令参数解释如下：")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" source 指定要复制的文件。\n\n /A 表示一个ASCII 文本文件。\n\n /B 表示一个二进位文件。\n\n /D 允许解密要创建的目标文件\n\n destination为新文件指定文件夹和/或文件名。\n\n /V 验证新文件写入是否正确。\n\n /N 复制文件时，尽可能使用短文件名。\n\n /Y 不使用确认是否要覆盖现有目标文件的提示。\n\n /-Y 使用确认是否要覆盖现有目标文件的提示。\n\n /Z 用可重新启动模式复制已联网的文件。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("h3",{attrs:{id:"_10-call"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_10-call"}},[s._v("#")]),s._v(" 10.call")]),s._v(" "),e("p",[s._v("语法:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("call [[Drive:][Path] FileName [BatchParameters]] [:label [arguments]]\n参数: [Drive:][Path] FileName 指定要调用的批处理程序的位置和名称。filename 参数必须具有 .bat 或 .cmd 扩展名。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("调用另一个批处理程序，并且不终止父批处理程序。")]),s._v(" "),e("p",[s._v("如果不用call而直接调用别的批处理文件，那么执行完那个批处理文件后将无法返回当前文件并执行当前文件的后续命令。")]),s._v(" "),e("p",[s._v("call 命令接受用作调用目标的标签。如果在脚本或批处理文件外使用 Call，它将不会在命令行起作用。")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(' Sample：call="%cd%\\test2.bat" haha kkk aaa (调用指定目录下的 test2.bat，且输入3个参数给他)\n\n Sample：call test2.bat arg1 arg2 (调用同目录下的 test2.bat，且输入2个参数给他)\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("注：可以调用自身(死循环、递归)")]),s._v(" "),e("p",[s._v("总共4种用法：")]),s._v(" "),e("p",[s._v("1.调用另一个批处理文件。")]),s._v(" "),e("p",[s._v("2.如果在被调用的批处理中面有参数，调用的时候需要在后面加上参数。")]),s._v(" "),e("p",[s._v("例如下面的批处理代码：")]),s._v(" "),e("p",[s._v("a.bat内容：")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("@echo off\n\necho %0 %1\n\nb.bat内容：\n\n@echo off\n\ncall a.bat hello\n\ndir c:\\\n\npause\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("p",[s._v("上面的例子将执行a.bat脚本文件打印出的内容为 "),e("strong",[s._v("“a.bathello”")])]),s._v(" "),e("p",[s._v("在执行b.bat的时候，会将hello赋值给%1，而%0代表a.bat自己。在批处理中，在处理批处理文件后面最多可以带10个参数。使用%*代表所有参数%1-%9代表9个参数，"),e("strong",[s._v("%0代表批处理自己")]),s._v("。")]),s._v(" "),e("p",[s._v("3.调用一个应用程序，例如call notepad.exe打开记事本。call可以这么用，但一般在调用应用程序的时候会使用start，很少用call。")]),s._v(" "),e("p",[s._v("4.调用本批处理中的一个标签。例如下面的有一个脚本语言：")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" @echo off\n\n call :no1\n\n start notepad.exe\n\n exit\n\n :no1\n\n startcalc\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("p",[s._v("执行该脚本文件时首先会调转到标号“:no1”出执行打开计算器程序，在接着执行调用call命令之后的代码打开记事本应用程序。")]),s._v(" "),e("h3",{attrs:{id:"_11-dp0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_11-dp0"}},[s._v("#")]),s._v(" 11.%~dp0")]),s._v(" "),e("p",[s._v("[获取当前路径]")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" %~dp0 “d”为Drive的缩写，即为驱动器，磁盘、“p”为Path缩写，即为路径，目录\n\n cd %~dp0 ：进入批处理所在目录\n\n cd %~dp0bin\\ ：进入批处理所在目录的bin目录\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"_12-test-exe-k-install"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_12-test-exe-k-install"}},[s._v("#")]),s._v(" 12.test.exe -k install")]),s._v(" "),e("p",[s._v("以管理员身份运行")]),s._v(" "),e("h3",{attrs:{id:"_13-xxx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_13-xxx"}},[s._v("#")]),s._v(" 13. xxx /?")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" 获取帮助命令\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_14-参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_14-参数"}},[s._v("#")]),s._v(" 14.参数")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(' %SystemRoot% === C:\\WINDOWS (%windir% 同样)\n\n %ProgramFiles% === C:\\Program Files\n\n %USERPROFILE% === C:\\Documents and Settings\\Administrator (子目录有“桌面”,“开始菜单”,“收藏夹”等)\n\n %APPDATA% === C:\\Documents and Settings\\Administrator\\Application Data\n\n %TEMP% === C:\\DOCUME~1\\ADMINI~1\\LOCALS~1\\Temp (%TEM% 同样)\n\n %APPDATA% === C:\\Documents and Settings\\Administrator\\Application Data\n\n %OS% === Windows_NT (系统)\n\n %Path% === %SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem (原本的设置)\n\n %HOMEDRIVE% === C: (系统盘)\n\n %HOMEPATH% === \\Documents and Settings\\Administrator\n\n :: 枚举当前的环境变量\n\n setlocal enabledelayedexpansion\n\n FOR /F "usebackq delims==" %%i IN (`set`) DO @echo %%i !%%i!\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br")])]),e("h3",{attrs:{id:"_15-for"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_15-for"}},[s._v("#")]),s._v(" 15.for")]),s._v(" "),e("p",[s._v("for 命令是一个比较复杂的命令，主要用于参数在指定的范围内循环执行命令。")]),s._v(" "),e("ol",[e("li",[s._v("for {%variable | %%variable} in (set) do command [command-parameters]")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" %variable 指定一个单一字母可替换的参数。变量名称是区分大小写的，所以 %i 不同于 %I\n\n 在批处理文件中使用 FOR 命令时，指定变量建议用 %%variable而不要用 %variable。\n\n (set) 指定一个或一组文件。可以使用通配符。\n\n command 指定对每个文件执行的命令。\n\n command-parameters 为特定命令指定参数或命令行开关。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("如果命令扩展名被启用，下列额外的 FOR 命令格式会受到支持:")])]),s._v(" "),e("p",[s._v("a.FOR /D %variable IN (set) DO command [command-parameters]")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" 如果集里面包含通配符，则指定与目录名匹配，而不与文件名匹配。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("b.FOR /R [[drive:]path] %variable IN (set) DO command [command-parameters]")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" 检查以 [drive:]path 为根的目录树，指向每个目录中的FOR 语句。\n\n 如果在 /R 后没有指定目录，则使用当前目录。如果集仅为一个单点(.)字符，则枚举该目录树。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("c.FOR /L %variable IN (start,step,end) DO command [command-parameters]")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" 该集表示以增量形式从开始到结束的一个数字序列。\n\n 如：(1,1,5) 将产生序列 1 2 3 4 5； 而(5,-1,1) 将产生序列 (5 4 3 2 1)。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("d.有或者没有 usebackq 选项:")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(' FOR /F ["options"] %variable IN (file-set) DO command\n\n FOR /F ["options"] %variable IN ("string") DO command\n\n FOR /F ["options"] %variable IN (command) DO command\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v('参数"options"为:')]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" eol=c - 指一个行注释字符的结尾(就一个,如“;”)\n\n skip=n - 指在文件开始时忽略的行数。\n\n delims=xxx - 指分隔符集。这个替换了空格和跳格键的默认分隔符集。\n\n tokens=x,y,m-n - 指每行的哪一个符号被传递到每个迭代的 for 本身。这会导致额外变量名称的分配。\n\n m-n格式为一个范围。通过 nth 符号指定 mth。\n\n 如果符号字符串中的最后一个字符星号，那么额外的变量将在最后一个符号解析之后分配并接受行的保留文本。\n\n usebackq - 指定新语法已在下类情况中使用:\n\n 在作为命令执行一个后引号的字符串并且一个单引号字符为文字字符串命令并允许在 filenameset中使用双引号扩起文件名称。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("ol",{attrs:{start:"3"}},[e("li",[s._v("Sample:")])]),s._v(" "),e("p",[s._v("\\1. 如下命令行会显示当前目录下所有以bat或者txt为扩展名的文件名。")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" for %%c in (*.bat *.txt) do (echo %%c)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("a. 如下命令行会显示当前目录下所有包含有 e 或者 i 的目录名。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" for /D %%a in (*e* *i*) do echo %%a\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("b. 如下命令行会显示 E盘test目录 下所有以bat或者txt为扩展名的文件名。")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" for /R E:\\test %%b in (*.txt *.bat) do echo %%b\n\n for /r %%c in (*) do (echo %%c) :: 遍历当前目录下所有文件\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("c. 如下命令行将产生序列 1 2 3 4 5")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" for /L %%c in (1,1,5) do echo %%c\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("d. 以下两句，显示当前的年月日和时间")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" For /f \"tokens=1-3 delims=-/. \" %%j In ('Date /T') do echo %%j年%%k月%%l日\n\n For /f \"tokens=1,2 delims=: \" %%j In ('TIME /T') do echo %%j时%%k分\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("e. 把记事本中的内容每一行前面去掉8个字符")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(' setlocal enabledelayedexpansion\n\n for /f %%i in (zhidian.txt) do (\n\n set atmp=%%i\n\n set atmp=!atmp:~8!\n\n if {!atmp!}=={} ( echo.) else echo !atmp!\n\n )\n\n :: 读取记事本里的内容(使用 delims 是为了把一行显示全,否则会以空格为分隔符)\n\n for /f "delims=" %%a in (zhidian.txt) do echo.%%a\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("ol",{attrs:{start:"4"}},[e("li",[s._v("continue 和 break")])]),s._v(" "),e("p",[s._v("利用 goto 实现程序中常用的 continue 和 break 命令, 其实非常简单")]),s._v(" "),e("p",[s._v("continue: 在 for 循环的最后一行写上一个标签，跳转到这位置即可")]),s._v(" "),e("p",[s._v("break: 在 for 循环的外面的下一句写上一个标签，跳转到这位置即可")]),s._v(" "),e("p",[s._v("Sample: (伪代码)")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(' for /F ["options"] %variable IN (command) DO (\n\n ... do command ...\n\n if ... goto continue\n\n if ... goto break\n\n ... do command ...\n\n :continue\n\n )\n\n :break\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("h2",{attrs:{id:"其它命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其它命令"}},[s._v("#")]),s._v(" 其它命令")]),s._v(" "),e("h3",{attrs:{id:"_1-ping-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-ping-命令"}},[s._v("#")]),s._v(" 1. ping 命令")]),s._v(" "),e("p",[s._v("测试网络联接状况以及信息包发送和接收状况。但是不能够测试端口。")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("语法：ping IP地址或主机名 [-t] [-a] [-n count] [-l size]\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("参数含义：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("-t 不停地向目标主机发送数据；\n\n-a 以IP地址格式来显示目标主机的网络地址；\n\n-n count 指定要Ping多少次，具体次数由count来指定；\n\n-l size 指定发送到目标主机的数据包的大小。\n\nSample: ping 192.168.0.1 -t (不停的测试192.168.0.1，按ctrl+c停止)\n\nSample: for /L %%a in (0,1,255) do ping 192.168.0.%%a -n 1  tmp.txt (ping一下所有的局域网电脑)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h3",{attrs:{id:"_2-telnet-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-telnet-命令"}},[s._v("#")]),s._v(" 2. telnet 命令")]),s._v(" "),e("p",[s._v("测试端口使用 telnet IP地址或主机名 端口，使用tcp协议的")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("Sample: telnet 192.168.0.1 80 (测试192.168.0.1的80端口)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_3-color-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-color-命令"}},[s._v("#")]),s._v(" 3.color 命令")]),s._v(" "),e("p",[s._v("设置背景及字体颜色")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("语法： color bf\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("b 是指定背景色的十六进制数字； f 指定前景颜色(即字体颜色)。\n\n颜色值: 0:黑色 1:蓝色 2:绿色 3:湖蓝 4:红色 5:紫色 6:** 7:白色\n\n8:灰色 9:淡蓝 A:淡绿 B:浅绿 C:淡红 D:淡紫 E:淡黄 F:亮白\n\n如果没有给定任何参数，该命令会将颜色还原到 CMD.EXE 启动时的颜色。\n\n如果两参数一样，视为无效输入。只有一个参数时，设置字体。```\n\n### 4. random 命令\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("p",[s._v("产生随机数(正整数0~)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("#```## 5. exit 命令\n\n结束程序。即时是被调用的程序，结束后也不会返回原程序\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"_6-shutdown命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-shutdown命令"}},[s._v("#")]),s._v(" 6. shutdown命令")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("shutdown -s 关机\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_1-分割字符串-以查看时间为例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-分割字符串-以查看时间为例"}},[s._v("#")]),s._v(" 1) 分割字符串，以查看时间为例")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(' %源字符串:~起始值,截取长度% (起始值从0开始；截取长度是可选的，如果省略逗号和截取长度，将会从起始值截取到结尾；\n\n 截取长度如果是负数，表示截取到倒数第几个。)\n\n "%time%" 显示如："11:04:23.03" (完整的时间"hh:mm:ss.tt")\n\n "%time:~0,5%" 显示"hh:mm"(即"11:04")，其中0表示从右向左移位操作的个数，5表示从左向右移位操作的个数\n\n "%time:~0,8%" 显示标准时间格式"hh:mm:ss"(即"11:04:23"，前8个字符串)\n\n "%time:~3,-3%"显示"mm:ss"(即从第4个开始,截去最后3个的字符串)\n\n "%time:~3%" 显示"04:23.03"(即去掉前4个字符串)\n\n "%time:~-3%" 显示".tt"(即最后3个字符串)\n\n 上面的字串分割格式，也可以用于其它地方，如目录路径："%cd:~0,10%"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br")])]),e("h3",{attrs:{id:"_2-替换字符串"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-替换字符串"}},[s._v("#")]),s._v(" 2) 替换字符串")]),s._v(" "),e("p",[s._v('set a="abcd1234"')]),s._v(" "),e("p",[s._v('echo %a% 显示："abcd1234"')]),s._v(" "),e("p",[s._v("set a=%a:1=kk% 替换“1”为“kk”")]),s._v(" "),e("p",[s._v('echo %a% 显示："abcdkk234"')]),s._v(" "),e("h3",{attrs:{id:"_3-字符串合并"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-字符串合并"}},[s._v("#")]),s._v(" 3)字符串合并")]),s._v(" "),e("p",[s._v("由于没有直接的字符串合并函数，只能用笨方法了。")]),s._v(" "),e("p",[s._v("set str1=%str1%%str2% (合并 str1 和 str2)")]),s._v(" "),e("h3",{attrs:{id:"_4-计算字符串长度"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-计算字符串长度"}},[s._v("#")]),s._v(" 4) 计算字符串长度")]),s._v(" "),e("p",[s._v("没有现成的函数。如下程序利用 goto形成循环，不断将字符串截短1，并记录截短的次数，到字符串变成空时的次数即长度。")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(' set testStr=This is a test string\n\n :: 将 testStr 复制到str，str 是个临时字符串\n\n set str=%testStr%\n\n :: 标签，用于goto跳转\n\n :next1\n\n :: 判断str是不是空，如果不是则执行下边的语句\n\n if not "%str%"=="" (\n\n :: 算术运算，使num的值自增1，相当于num++或者++num语句\n\n set /a num+=1\n\n :: 截取字符串，每次截短1\n\n set "str=%str:~1%"\n\n :: 跳转到next1标签: 这里利用goto和标签，构成循环结构\n\n goto next1\n\n )\n\n :: 当以上循环结构执行完毕时，会执行下边的语句\n\n echo testStr=%testStr%\n\n echo testStr的长度为：%num%\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br")])]),e("h3",{attrs:{id:"_5-截取字符串时-需要传递参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-截取字符串时-需要传递参数"}},[s._v("#")]),s._v(" 5) 截取字符串时，需要传递参数")]),s._v(" "),e("p",[s._v("直接 echo %args:~%num%,-5% 得不到想要的字符串，需要如下两步")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("setlocal enabledelayedexpansion\n\necho !args:~%num%,-5!\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"注册表操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注册表操作"}},[s._v("#")]),s._v(" 注册表操作")]),s._v(" "),e("ol",[e("li",[s._v("备份注册表，将[HKEY_LOCAL_MACHINE ... Run]的内容，备份到“c:\\windows\\1.reg”")])]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("reg export HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run c:\\windows\\1.reg\n\nreg export HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Run c:\\windows\\2.reg\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("修改/添加注册表内容")])]),s._v(" "),e("p",[s._v("a.一般的添加或修改")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('reg add "HKCU\\Environment" /v Java_Home /t reg_sz /d "D:\\Java\\jdk1.6.0_07" /f\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("上句解析：“HKCU”是“HKEY_CURRENT_USER”的缩写，不用缩写用全称也可以；")]),s._v(" "),e("p",[s._v("添加名称为“Java_Home”的变量；类型为“reg_sz”，另一种常见类型是“reg_dword”；值为 D:\\Java\\jdk1.6.0_07；")]),s._v(" "),e("p",[s._v("b.使用变量")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('set SoftWareHome=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java\n\nreg add "%SoftWareHome%Web Start\\1.6.0_07" /v Home /t reg_sz /d "%cd%\\jre1.6.0_07\\bin" /f\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("c.如果注册表的名称有空格，或者数据用特殊符号时")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('reg add "%SoftWareHome2%\\HelpCommands" /v "01:Online Documentation" /t reg_sz /d "\\"%cd%\\Documentation\\Index.htm\\"" /f\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v('传入值为(值用双引号括起来的)："D:\\ProgramFiles\\1.work_soft\\Sybase\\PowerDesigner_12\\Documentation\\Index.htm"')]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('reg add "%SoftWareHome2%\\Paths" /v ReportTemplates /t reg_sz /d "%cd%\\Resource Files\\Report Templates\\\\" /f\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("传入值为(“\\”结尾的)： E:\\Holemar\\1.notes\\90. Windows\\Resource Files\\Report Templates\\")]),s._v(" "),e("p",[s._v("d.增加空的内容")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('reg add "HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Shared Tools\\MSConfig\\startupreg\\IMJPMIG8.1"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("e.添加或修改默认值")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('reg add "%vpath%InstallPath" /ve /t reg_sz /d "%cd%" /f\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("这里用“/ve”来代替一般修改时的“/v 变量名”,即可修改默认值了")]),s._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[s._v("删除注册表的内容")])]),s._v(" "),e("p",[s._v("双引号里面的是注册表的目录，下面两句将删除这目录下的所有信息")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('reg delete "HKEY_CURRENT_USER\\Software\\RealVNC" /f\n\nreg delete "HKEY_LOCAL_MACHINE\\SOFTWARE\\RealVNC" /f\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("双引号里面的是注册表的目录，下面一句将删除这目录下指定的某个信息")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('reg delete "HKEY_LOCAL_MACHINE\\Software\\RealVNC" /v VNC_Server /f\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"4"}},[e("li",[s._v("注册表的常用位置")])]),s._v(" "),e("p",[s._v("a.系统启动项：")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('[HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run]\n\n[HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Run]\n\nexample: REG ADD  HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Run /v  VNC_Server /t REG_SZ /d "%cd%\\VNC_Server.bat" /f\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("b.系统环境变量：")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment]\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("c.当前用户的环境变量：")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[HKEY_CURRENT_USER\\Environment]\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"5"}},[e("li",[s._v("修改注册表之后，结束并重新加载explorer.exe进程，可刷新注册表，令其生效")])]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('taskkill /f /im explorer.exe nul\n\nstart "" "explorer.exe"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"系统服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统服务"}},[s._v("#")]),s._v(" 系统服务")]),s._v(" "),e("ol",[e("li",[s._v("停止服务：NET STOP 服务名")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("启动服务：NET Start 服务名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("设置启动类型")])]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("自动： SC CONFIG 服务名 START= auto\n\n手动： SC CONFIG 服务名 START= demand\n\n已禁用：SC CONFIG 服务名 START= disabled\n\n附：“START= ”等号后面必须要有一个空格。(start还有boot,system两个值)\n\nSample: SC CONFIG Spooler START= demand (打印机加载项，设置成手动，默认自动)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("ol",{attrs:{start:"3"}},[e("li",[s._v("查看系统服务：")])]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("start %SystemRoot%\\system32\\services.msc /s\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"setlocal与变量延迟"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setlocal与变量延迟"}},[s._v("#")]),s._v(" setlocal与变量延迟")]),s._v(" "),e("ol",{attrs:{start:"0"}},[e("li",[s._v("在没有开启变量延迟的情况下，某条命令行中的变量改变，必须到下一条命令才能体现。")])]),s._v(" "),e("p",[s._v("另外例如for命令等，其后用一对圆括号闭合的所有语句也当作一行。")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("example:\n\nset a=4\n\nset a=5 & echo %a%\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("结果：4")]),s._v(" "),e("p",[s._v("也可以对这种机制加以利用，如下的变量交换")]),s._v(" "),e("p",[s._v("example:")]),s._v(" "),e("div",{staticClass:"language-bat line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("set var1=abc\n\nset var2=123\n\necho 交换前： var1=%var1% var2=%var2%\n\nset var1=%var2%& set var2=%var1%\n\necho 交换后： var1=%var1% var2=%var2%\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("ol",[e("li",[s._v("启动批处理文件中环境变量的本地化。本地化将持续到出现匹配的 endlocal 命令或者到达批处理文件结尾为止。")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("语法: setlocal {enableextension | disableextensions} {enabledelayedexpansion | disabledelayedexpansion}\n\nenableextension: 启用命令扩展，直到出现匹配的 endlocal 命令，无论 setlocal 命令之前的设置如何。\n\ndisableextensions: 禁用命令扩展，直到出现匹配的 endlocal 命令，无论 setlocal 命令之前的设置如何。\n\nenabledelayedexpansion: 启用延迟的环境变量扩展，直到出现匹配的 endlocal 命令，无论 setlocal 命令之前的设置如何。\n\ndisabledelayedexpansion: 禁用延迟的环境变量扩展，直到出现匹配的 endlocal 命令，无论 setlocal 命令之前的设置如何。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("为了能够感知环境变量的动态变化，批处理设计了变量延迟。简单来说，在读取了一条完整的语句之后，不立即对该行的变量赋值，而会在某个单条语句执行之前再进行赋值，也就是说“延迟”了对变量的赋值。")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("examle:\n\nsetlocal enabledelayedexpansion\n\nset a=4\n\nset a=5 & echo !a!\n\n结果： 5\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[s._v("变量延迟的启动语句是“setlocal enabledelayedexpansion”，并且变量要用一对叹号“!!”括起来")]),s._v(" "),e("p",[s._v("由于启动了变量延迟，所以批处理能够感知到动态变化，即不是先给该行变量赋值，而是在运行过程中给变量赋值，因此此时a的值就是5了")]),s._v(" "),e("p",[s._v("另外，启动变量延迟，“%”的变量还是不变")]),s._v(" "),e("p",[s._v("example2:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("setlocal enabledelayedexpansion\n\nfor /l %%i in (1,1,5) do (\n\nset a=%%i\n\necho !a!\n\n)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[s._v("结果，打印从1到5；如果不变量延迟，一个变量也没有打印")]),s._v(" "),e("h2",{attrs:{id:"文件处理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件处理"}},[s._v("#")]),s._v(" 文件处理")]),s._v(" "),e("h3",{attrs:{id:"_1-删除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-删除"}},[s._v("#")]),s._v(" 1.删除")]),s._v(" "),e("ol",[e("li",[s._v("删除一个文件或多个文件")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("del /s /q /f d:\\test\\a.bat\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("将直接删除d:\\test\\a.bat，没有任务提示")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("del temp\\* /q /f /s\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("将直接删除 本目录的 temp 目录的所有文件，没有任务提示")]),s._v(" "),e("p",[s._v("删除文件的时候可以使用“*”作通配符")]),s._v(" "),e("h3",{attrs:{id:"_2-删除一个空目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-删除一个空目录"}},[s._v("#")]),s._v(" 2) 删除一个空目录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("rd /q /s d:\\test\\log\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("将直接删除d:\\test\\log目录，如果log目录里面有文件将无法删除")]),s._v(" "),e("h3",{attrs:{id:"_3-删除一个非空目录-必须指定目录名称"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-删除一个非空目录-必须指定目录名称"}},[s._v("#")]),s._v(" 3) 删除一个非空目录 (必须指定目录名称)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("rmdir /q /s d:\\test\\logs\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("必须指定目录名称，不能使用通配符")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("/S 除目录本身外，还将删除指定目录下的所有子目录\n\n/Q 安静模式，带 /S 删除目录树时不要求确认\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("无论里面是否有文件或文件夹将全部直接删除")]),s._v(" "),e("h3",{attrs:{id:"_2-创建目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建目录"}},[s._v("#")]),s._v(" 2.创建目录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("MKDIR [drive:]path\n\nMD [drive:]path\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("路径有空格时，可以用双引号括起来，也可以用   替代")])])}),[],!1,null,null,null);a.default=t.exports}}]);