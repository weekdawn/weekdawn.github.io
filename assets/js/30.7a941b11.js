(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{636:function(s,e,a){"use strict";a.r(e);var n=a(7),t=Object(n.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1-安装lib-flexible"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装lib-flexible"}},[s._v("#")]),s._v(" 1.安装lib-flexible")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yarn add lib-flexible\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_2-引入lib-flexible"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-引入lib-flexible"}},[s._v("#")]),s._v(" 2.引入lib-flexible")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# src/main.ts\n\nimport 'lib-flexible/flexible'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"_3-安装postcss-pxtorem"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装postcss-pxtorem"}},[s._v("#")]),s._v(" 3.安装postcss-pxtorem")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yarn add lib-flexible\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_4-在根目录下新建-postcss-config-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-在根目录下新建-postcss-config-js"}},[s._v("#")]),s._v(" 4.在根目录下新建 postcss.config.js")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('# project_name/postcss.config.js\n\nmodule.exports = {\n    plugins: {\n    // 兼容浏览器，添加前缀\n    autoprefixer: {\n        overrideBrowserslist: [\n          "Android 4.1",\n          "iOS 7.1",\n          "Chrome > 31",\n          "ff > 31",\n          "ie >= 8",\n          "last 10 versions",\n        ],\n        grid: true,\n      },\n      "postcss-pxtorem": {\n        //rootValue: 16,//结果为：设计稿元素尺寸/16，比如元素宽320px,最终页面会换算成 20rem\n        rootValue: 75, //通常结合 lib-flexible 设置 rem 基准值,默认用75,不然容易出问题\n        propList: ["*"], // 需要做转化处理的属性，如`hight`、`width`、`margin`等，`*`表示全部\n        unitPrecision: 5, //保留rem小数点多少位\n        replace: true,\n        mediaQuery: false, //媒体查询( @media screen 之类的)中不生效\n        minPixelValue: 12, //px小于12的不会被转换\n      }\n    }\n  }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("p",[s._v("嫌麻烦的可以换成下面这样：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('module.exports = {\n  plugins: {\n    autoprefixer: {},\n    "postcss-pxtorem": {\n      "rootValue": 75,\n      "propList": [\'*\'],\n    }\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[a("strong",[s._v("重启项目即可")])]),s._v(" "),a("p",[s._v("如果在运行项目中出现如下报错信息：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vue Syntax Error: Error: PostCSS plugin postcss-pxtorem requires PostCSS 8.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("检查package.jso中postcss-pxtorem的版本，如果是6.*则是版本过高不兼容问题，卸载重装5.1.1版本的即可。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yarn remove postcss-pxtorem\nyarn add postcss-pxtorem@5.1.1 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[s._v("#")]),s._v(" 原理")]),s._v(" "),a("p",[a("code",[s._v("lib-flexible")]),s._v(': 根据不同的屏幕算出html的font-size，通过js来动态写meta标签。会自动在html的head中添加一个meta name="viewport"的标签，同时会自动设置html的font-size为屏幕宽度除以10，也就是1rem等于html根节点的font-size。假如设计稿的宽度是750px，此时1rem应该等于75px。假如量的某个元素的宽度是150px，那么在css里面定义这个元素的宽度就是 width: 2rem')]),s._v(" "),a("blockquote",[a("p",[s._v("注意："),a("br"),s._v("\n1."),a("code",[s._v("lib-flexible")]),s._v("会为页面根据屏幕自动添加"),a("code",[s._v("<meta name='viewport' >")]),s._v("标签，动态控制initial-scale，maximum-scale，minimum-scale等属性的值。"),a("br"),s._v('\n2.检查一下html文件的head中，如果有 meta name="viewport"标签，需要将他注释掉，因为如果有这个标签的话，lib-flexible就会默认使用这个标签。而我们要使用lib-flexible自己生成的 meta name="viewport"来达到高清适配的效果。'),a("br"),s._v("\n3.因为html的font-size是根据屏幕宽度除以10计算出来的，所以我们需要设置页面的最大宽度是10rem。"),a("br"),s._v("\n4.如果每次从设计稿量出来的尺寸都手动去计算一下rem，就会导致我们效率比较慢，还有可能会计算错误，所以我们可以使用postcss-pxtorem或者postcss-px2rem-exclude自动将css中的px转成rem")])]),s._v(" "),a("p",[a("code",[s._v("postcss-pxtorem")]),s._v(": 自动将项目中的 px 转为 rem")]),s._v(" "),a("blockquote",[a("p",[s._v("注意："),a("br"),s._v("\n1.postcss-pxtorem会将px转换为rem用于适配不同宽度的屏幕，根据"),a("code",[s._v("<html>")]),s._v("标签的font-size值来计算出结果，即1rem=html标签的font-size值。"),a("br"),s._v("\n2.对于行内样式，"),a("code",[s._v("postcss-pxtorem")]),s._v("并不能将px转rem，所以对于需要自适应的样式，如font-size、width、height等请不要写在行内。同理，对于不需要转化的样式可以写在行内，或者使用PX（大写）作为单位。"),a("br"),s._v("\n3.如果在.vue文件style中的某一行代码不希望被转成rem，只要在后面写上注释 /* no*/就可以了")])])])}),[],!1,null,null,null);e.default=t.exports}}]);