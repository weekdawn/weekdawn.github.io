(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{685:function(s,n,a){"use strict";a.r(n);var e=a(7),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"https://img.picgo.net/2022/07/29/325475308a7a57aa51427c77cc6d8c4e.jpg",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"vue组件间的11种传值方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue组件间的11种传值方式"}},[s._v("#")]),s._v(" vue组件间的11种传值方式")]),s._v(" "),a("p",[s._v("当做到比较大的项目时，一个vue文件里面可能要包含上千行代码，这样不利于后期维护与问题定位，抽离成组件就尤其重要了")]),s._v(" "),a("p",[a("strong",[s._v("重中之重的就是组件之间数据传递的几种方式")])]),s._v(" "),a("p",[s._v("Vue2最常见的11种组件间的通讯方式")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("props")])]),s._v(" "),a("li",[a("code",[s._v("$emit / v-on")])]),s._v(" "),a("li",[a("code",[s._v(".sync")])]),s._v(" "),a("li",[a("code",[s._v("v-model")])]),s._v(" "),a("li",[a("code",[s._v("ref")])]),s._v(" "),a("li",[a("code",[s._v("$children / $parent")])]),s._v(" "),a("li",[a("code",[s._v("$attrs / $listeners")])]),s._v(" "),a("li",[a("code",[s._v("provide / inject")])]),s._v(" "),a("li",[a("code",[s._v("EventBus")])]),s._v(" "),a("li",[a("code",[s._v("Vuex")])]),s._v(" "),a("li",[a("code",[s._v("$root")])]),s._v(" "),a("li",[a("code",[s._v("slot")])])]),s._v(" "),a("h3",{attrs:{id:"_1、props"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、props"}},[s._v("#")]),s._v(" 1、"),a("code",[s._v("props")])]),s._v(" "),a("p",[s._v("父组件向子组件传送数据，这应该是最常用的方式了")]),s._v(" "),a("p",[s._v("子组件接收到数据之后，不能直接修改父组件的数据。")]),s._v(" "),a("p",[s._v("否则会报错，因为当父组件重新渲染时，数据会被覆盖。如果只在子组件内要修改的话推荐使用 "),a("code",[s._v("computed")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Parent.vue 传送:\n<template>\n    <child :msg=\"msg\"></child>\n</template>\n\n\n Child.vue 接收:\nexport default {\n  // 写法一 用数组接收\n  props:['msg'],\n  // 写法二 用对象接收，可以限定接收的数据类型、设置默认值、验证等\n  props:{\n      msg:{\n          type:String,\n          default:'这是默认数据'\n      }\n  },\n  mounted(){\n      console.log(this.msg)\n  },\n}\n复制代码\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("h3",{attrs:{id:"_2、-sync-子组件可以修改父组件内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、-sync-子组件可以修改父组件内容"}},[s._v("#")]),s._v(" 2、"),a("code",[s._v(".sync 子组件可以修改父组件内容")])]),s._v(" "),a("p",[a("code",[s._v(".sync")]),s._v("可以帮我们实现父组件向子组件传递的数据的双向绑定，所以子组件接收到数据后可以直接修改，并且会同时修改父组件的数据")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('Parent.vue:\n<template>\n    <child :page.sync="page"></child>\n</template>\n<script>\nexport default {\n    data(){\n        return {\n            page:1\n        }\n    }\n}\n\n Child.vue:\nexport default {\n    props:["page"],\n    computed(){\n        // 当我们在子组件里修改 currentPage 时，父组件的 page 也会随之改变\n        currentPage {\n            get(){\n                return this.page\n            },\n            set(newVal){\n                this.$emit("update:page", newVal)\n            }\n        }\n    }\n}\n<\/script>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("h3",{attrs:{id:"_3、v-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、v-model"}},[s._v("#")]),s._v(" 3、"),a("code",[s._v("v-model")])]),s._v(" "),a("p",[s._v("和 "),a("code",[s._v(".sync")]),s._v(" 类似，可以实现将父组件传给子组件的数据为双向绑定，子组件通过 "),a("code",[s._v("$emit")]),s._v(" 修改父组件的数据")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' Parent.vue:\n<template>\n    <child v-model="value"></child>\n</template>\n<script>\nexport default {\n    data(){\n        return {\n            value:1\n        }\n    }\n}\n\nChild.vue:\n<template>\n    <input :value="value" @input="handlerChange">\n</template>\nexport default {\n    props:["value"],\n    // 可以修改事件名，默认为 input\n    model:{\n        event:"updateValue"\n    },\n    methods:{\n        handlerChange(e){\n            this.$emit("input", e.target.value)\n            // 如果有上面的重命名就是这样\n            this.$emit("updateValue", e.target.value)\n        }\n    }\n}\n<\/script>\n复制代码\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("h3",{attrs:{id:"_4、ref"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、ref"}},[s._v("#")]),s._v(" 4、"),a("code",[s._v("ref")])]),s._v(" "),a("p",[a("code",[s._v("ref")]),s._v(" 如果在普通的DOM元素上，引用指向的就是该DOM元素;")]),s._v(" "),a("p",[s._v("如果在子组件上，引用的指向就是子组件实例;")]),s._v(" "),a("p",[s._v("父组件可以通过 ref 主动获取子组件的属性或者调用子组件的方法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// Child.vue\nexport default {\n    data(){\n        return {\n            name:"oldCode"\n        }\n    },\n    methods:{\n        someMethod(msg){\n            console.log(msg)\n        }\n    }\n}\n\n// Parent.vue\n<template>\n    <child ref="child"></child>\n</template>\n<script>\nexport default {\n    mounted(){\n        const child = this.$refs.child\n        console.log(child.name) \n        child.someMethod("调用了子组件的方法")\n    }\n}\n<\/script>\n复制代码\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br")])]),a("h3",{attrs:{id:"_5、-emit-v-on"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、-emit-v-on"}},[s._v("#")]),s._v(" 5、"),a("code",[s._v("$emit / v-on")])]),s._v(" "),a("p",[s._v("子组件通过派发事件的方式给父组件数据，或者触发父组件更新等操作")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// Child.vue 派发\nexport default {\n  data(){\n      return { msg: "这是发给父组件的信息" }\n  },\n  methods: {\n      handleClick(){\n          this.$emit("sendMsg",this.msg)\n      }\n  },\n}\n// Parent.vue 响应\n<template>\n    <child v-on:sendMsg="getChildMsg"></child>\n    // 或 简写\n    <child @sendMsg="getChildMsg"></child>\n</template>\n\nexport default {\n    methods:{\n        getChildMsg(msg){\n            console.log(msg) // 这是父组件接收到的消息\n        }\n    }\n}\n复制代码\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h3",{attrs:{id:"_6-、-attrs-listeners"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-、-attrs-listeners"}},[s._v("#")]),s._v(" 6 、"),a("code",[s._v("$attrs / $listeners")])]),s._v(" "),a("p",[s._v("多层嵌套组件传递数据时，如果只是传递数据，而不做中间处理的话就可以用这个，比如父组件向孙子组件传递数据时")]),s._v(" "),a("p",[a("code",[s._v("$attrs")]),s._v("：包含父作用域里除 class 和 style 除外的非 props 属性集合。通过 "),a("code",[s._v("this.$attrs")]),s._v(" 获取父作用域中所有符合条件的属性集合，然后还要继续传给子组件内部的其他组件，就可以通过 "),a("code",[s._v('v-bind="$attrs"')])]),s._v(" "),a("p",[a("code",[s._v("$listeners")]),s._v("：包含父作用域里 "),a("code",[s._v(".native")]),s._v(" 除外的监听事件集合。如果还要继续传给子组件内部的其他组件，就可以通过 "),a("code",[s._v('v-on="$linteners"')]),s._v("使用方式是相同的")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('Parent.vue:\n<template>\n    <child :name="name" title="1111" ></child>\n</template\nexport default{\n    data(){\n        return {\n            name:"oldCode"\n        }\n    }\n}\n\nChild.vue:\n<template>\n    // 继续传给孙子组件\n    <sun-child v-bind="$attrs"></sun-child>\n</template>\nexport default{\n    props:["name"], // 这里可以接收，也可以不接收\n    mounted(){\n        // 如果props接收了name 就是 { title:1111 }，否则就是{ name:"oldCode", title:1111 }\n        console.log(this.$attrs)\n    }\n}\n复制代码\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h3",{attrs:{id:"_7、-children-parent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、-children-parent"}},[s._v("#")]),s._v(" 7、"),a("code",[s._v("$children / $parent")])]),s._v(" "),a("p",[a("code",[s._v("$children")]),s._v("：获取到一个包含所有子组件(不包含孙子组件)的 "),a("code",[s._v("VueComponent")]),s._v(" 对象数组，可以直接拿到子组件中所有数据和方法等")]),s._v(" "),a("p",[a("code",[s._v("$parent")]),s._v("：获取到一个父节点的 "),a("code",[s._v("VueComponent")]),s._v(" 对象，同样包含父节点中所有数据和方法等")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" Parent.vue:\nexport default{\n    mounted(){\n        this.$children[0].someMethod() // 调用第一个子组件的方法\n        this.$children[0].name // 获取第一个子组件中的属性\n    }\n}\n\n Child.vue:\nexport default{\n    mounted(){\n        this.$parent.someMethod() // 调用父组件的方法\n        this.$parent.name // 获取父组件中的属性\n    }\n}\n复制代码\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"_8、provide-inject"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、provide-inject"}},[s._v("#")]),s._v(" 8、"),a("code",[s._v("provide / inject")])]),s._v(" "),a("p",[a("code",[s._v("provide / inject")]),s._v(" 是依赖注入，在一些插件或组件库里被常用")]),s._v(" "),a("p",[a("code",[s._v("provide")]),s._v("：可以让我们指定想要提供给后代组件的数据或方法")]),s._v(" "),a("p",[a("code",[s._v("inject")]),s._v("：在任何后代组件中接收想要添加在这个组件上的数据或方法，不管组件嵌套多深都可以直接拿来用")]),s._v(" "),a("p",[s._v("要注意的是 "),a("code",[s._v("provide")]),s._v(" 和 "),a("code",[s._v("inject")]),s._v(" 传递的数据不是响应式的，也就是说用 "),a("code",[s._v("inject")]),s._v(" 接收来数据后，"),a("code",[s._v("provide")]),s._v(" 里的数据改变了，后代组件中的数据不会改变，除非传入的就是一个可监听的对象 所以建议还是传递一些常量或者方法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 父组件\nexport default{\n    // 方法一 不能获取 methods 中的方法\n    provide:{\n        name:"oldCode",\n        age: this.data中的属性\n    },\n    // 方法二 不能获取 data 中的属性\n    provide(){\n        return {\n            name:"oldCode",\n            someMethod:this.someMethod // methods 中的方法\n        }\n    },\n    methods:{\n        someMethod(){\n            console.log("这是注入的方法")\n        }\n    }\n}\n\n// 后代组件\nexport default{\n    inject:["name","someMethod"],\n    mounted(){\n        console.log(this.name)\n        this.someMethod()\n    }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("h3",{attrs:{id:"_9、eventbus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9、eventbus"}},[s._v("#")]),s._v(" 9、"),a("code",[s._v("EventBus")])]),s._v(" "),a("p",[a("code",[s._v("EventBus")]),s._v(" 是中央事件总线，不管是父子组件，兄弟组件，跨层级组件等都可以使用它完成通信操作")]),s._v(" "),a("p",[s._v("定义方式有三种")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 方法一\n// 抽离成一个单独的 js 文件 Bus.js ，然后在需要的地方引入\n// Bus.js\nimport Vue from "vue"\nexport default new Vue()\n\n// 方法二 直接挂载到全局\n// main.js\nimport Vue from "vue"\nVue.prototype.$bus = new Vue()\n\n// 方法三 注入到 Vue 根对象上\n// main.js\nimport Vue from "vue"\nnew Vue({\n    el:"#app",\n    data:{\n        Bus: new Vue()\n    }\n})\n复制代码\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("使用如下，以方法一按需引入为例")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 在需要向外部发送自定义事件的组件内\n<template>\n    <button @click="handlerClick">按钮</button>\n</template>\nimport Bus from "./Bus.js"\nexport default{\n    methods:{\n        handlerClick(){\n            // 自定义事件名 sendMsg\n            Bus.$emit("sendMsg", "这是要向外部发送的数据")\n        }\n    }\n}\n\n// 在需要接收外部事件的组件内\nimport Bus from "./Bus.js"\nexport default{\n    mounted(){\n        // 监听事件的触发\n        Bus.$on("sendMsg", data => {\n            console.log("这是接收到的数据：", data)\n        })\n    },\n    beforeDestroy(){\n        // 取消监听\n        Bus.$off("sendMsg")\n    }\n}\n复制代码\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("h3",{attrs:{id:"_10、vuex-在大项目中被常用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10、vuex-在大项目中被常用"}},[s._v("#")]),s._v(" 10、"),a("code",[s._v("Vuex 在大项目中被常用")])]),s._v(" "),a("p",[s._v("Vuex 是状态管理器，集中式存储管理所有组件的状态。")]),s._v(" "),a("p",[s._v("新建一个index.js文件， 里内容如下")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import Vue from 'vue'\nimport Vuex from 'vuex'\nimport getters from './getters'\nimport actions from './actions'\nimport mutations from './mutations'\nimport state from './state'\nimport user from './modules/user'\n\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n  modules: {\n    user\n  },\n  getters,\n  actions,\n  mutations,\n  state\n})\nexport default store\n复制代码\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("然后在 main.js 引入")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('import Vue from "vue"\nimport store from "./store"\nnew Vue({\n    el:"#app",\n    store,\n    render: h => h(App)\n})\n复制代码\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("然后在需要的使用组件里")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('import { mapGetters, mapMutations } from "vuex"\nexport default{\n    computed:{\n        // 方式一 然后通过 this.属性名就可以用了\n        ...mapGetters(["引入getters.js里属性1","属性2"])\n        // 方式二\n        ...mapGetters("user", ["user模块里的属性1","属性2"])\n    },\n    methods:{\n        // 方式一 然后通过 this.属性名就可以用了\n        ...mapMutations(["引入mutations.js里的方法1","方法2"])\n        // 方式二\n        ...mapMutations("user",["引入user模块里的方法1","方法2"])\n    }\n}\n\n// 或者也可以这样获取\nthis.$store.state.xxx\nthis.$store.state.user.xxx\n复制代码\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h3",{attrs:{id:"_11、slot插槽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11、slot插槽"}},[s._v("#")]),s._v(" 11、"),a("code",[s._v("slot插槽")])]),s._v(" "),a("p",[s._v("就是把子组件的数据通过插槽的方式传给父组件使用，然后再插回来")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' Child.vue:\n<template>\n    <div>\n        <slot :user="user"></slot>\n    </div>\n</template>\nexport default{\n    data(){\n        return {\n            user:{ name:"oldCode" }\n        }\n    }\n}\n\n Parent.vue:\n<template>\n    <div>\n        <child v-slot="slotProps">\n            {{ slotProps.user.name }}\n        </child>\n    </div>\n</template>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);